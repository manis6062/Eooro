$.fn.scrollViewer=function(e){var n={pageRatio:.8,scrollingDocument:document,viewingWindow:window,itemType:"listing",itemId:1,screen:2,ajaxURL:DEFAULT_URL+"/loadReviewsBottomless.php",ajaxType:"POST",responseContainer:".helpful-reviews",loadingGif:DEFAULT_URL+"/custom/domain_1/theme/stremline/images/iconography/icon-loading-footer.gif",loadingContainerId:"loading-container",filterContents:!1,filterSelector:null,endOfResult:0,loadResult:!0},i=$.extend({},n,e),t=i.loadResult,o='<div id="'+i.loadingContainerId+'"><div id="spinner" align="center"><i class="fa fa-circle-o-notch fa-spin" style="color:#ee3767;margin-top:10px;font-size:20pt;"></i><br><h2 style="color:#000;font-size:10px;"> Please Wait...</h2></div></div>',r=function(e,n){return"function"==typeof e?e(n):e==n?!0:!1};return $(document).ready(function(){var e=$(i.scrollingDocument),n=$(i.viewingWindow);e.scroll(function(){e.scrollTop()>=.8*e.height()-n.height()&&t&&$.ajax({url:i.ajaxURL,type:i.ajaxType,data:{item_type:i.itemType,item_id:i.itemId,screen:i.screen},beforeSend:function(){t=!1,$(i.responseContainer).append(o)},success:function(e){if(i.responseLog,i.filterContents){var n=$(i.filterSelector.keep,e);if(e=n.html(),i.filterSelector.discard){{i.filterSelector.discard.join(",")}e=n.contents().not(i.filterSelector.discard.join(","))}}i.screen++,r(i.endOfResult,e)?t=!1:($(i.responseContainer).append(e),t=!0)},complete:function(){$("#"+i.loadingContainerId).remove()}})})}),this};
